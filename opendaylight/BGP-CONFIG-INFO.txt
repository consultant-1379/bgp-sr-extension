In order to have BGP running with a BGP session wih a BGP router reflector:


1. install odl-restconf and odl-bgpcep-bgp using the following command at ODL karaf shell side:

      feature:install odl-restconf-all
      feature:install odl-bgpcep-bgp

2. with a restconf client such as postman, run the following put (update neightbour address with required one):

URL: http://localhost:8181/restconf/config/openconfig-network-instance:network-instances/network-instance/global-bgp/openconfig-network-instance:protocols/protocol/openconfig-policy-types:BGP/example-bgp-rib/bgp/neighbors/neighbor/192%2E168%2E56%2E101

HEADER:  Authorization: Basic Authorization
         Content-type: application/json
         Accept: application/json
   
Operation: PUT

BODY:

{
  "neighbor" : {
    "neighbor-address": "192.168.56.101",
      "timers": {
        "config": {
          "hold-time": 180,
          "connect-retry": 10
        }
      },
      "afi-safis": {
        "afi-safi": [
          {
            "afi-safi-name": "openconfig-bgp-types:IPV4-UNICAST"
          },
          {
            "afi-safi-name": "bgp-openconfig-extensions:IPV4-FLOW"
          },
          {
            "afi-safi-name": "bgp-openconfig-extensions:LINKSTATE"
          },
          {
            "afi-safi-name": "openconfig-bgp-types:IPV4-LABELLED-UNICAST"
          },
          {
            "afi-safi-name": "bgp-openconfig-extensions:IPV6-L3VPN-FLOW"
          },
          {
            "afi-safi-name": "openconfig-bgp-types:IPV6-LABELLED-UNICAST"
          },
          {
            "afi-safi-name": "openconfig-bgp-types:L3VPN-IPV4-UNICAST"
          },
          {
            "afi-safi-name": "openconfig-bgp-types:L3VPN-IPV6-UNICAST"
          },
          {
            "afi-safi-name": "bgp-openconfig-extensions:IPV6-FLOW"
          },
          {
            "afi-safi-name": "openconfig-bgp-types:L2VPN-EVPN"
          },
          {
            "afi-safi-name": "bgp-openconfig-extensions:IPV4-L3VPN-FLOW"
          },
          {
            "afi-safi-name": "openconfig-bgp-types:IPV6-UNICAST"
          }
        ]
      },
      "transport": {
        "config": {
          "remote-port": 179,
          "passive-mode": false
        }
      },
      "config": {
        "peer-as": 6666,
        "peer-type": "INTERNAL"
      }
   }
}